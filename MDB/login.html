<!--og stuff-->
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Text2Pay</title>
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.11.2/css/all.css">
  <!-- Bootstrap core CSS -->
  <link href="css/bootstrap.min.css" rel="stylesheet">
  <!-- Material Design Bootstrap -->
  <link href="css/mdb.min.css" rel="stylesheet">
  <!-- Your custom styles (optional) -->
  <link href="css/style.css" rel="stylesheet">
</head>

<body>

  <!-- Start your project here-->
  <div style="width:300px;height:400px; position: absolute; left: 50%; margin-left:-225px; top: 10%;  width: 450px; height: 250px;">


    <!DOCTYPE html>
    <html>
    <head>
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <style>
      body {font-family: Arial, Helvetica, sans-serif;}
      form {border: 3px solid #f1f1f1;}

      input[type=text], input[type=password] {
        width: 100%;
        padding: 12px 20px;
        margin: 8px 0;
        display: inline-block;
        border: 1px solid #ccc;
        box-sizing: border-box;
      }

      button {
        background-color: #55B6D8;
        color: white;
        padding: 14px 20px;
        margin: 8px 0;
        border: none;
        cursor: pointer;
        width: 100%;
        font-weight: bold;
      }

      button:hover {
        opacity: 0.8;
      }

      .signupbtn {
        width: 100%;
        padding: 10px 18px;
        background-color: #D3D3D3;
        border-radius:5px;


      }

      .imgcontainer {
        text-align: center;
        margin: 24px 0 12px 0;
      }

      img.avatar {
        width: 40%;
        border-radius: 50%;
      }

      .container {

      }

      span.psw {
        float: right;
        padding-top: 16px;
      }

      h3 {
        width: 100%;
        text-align: center;
        color: #696969;
        font-size: 15px;
        border-bottom: 1px solid #D3D3D3;
        line-height: 0.1em;
        margin: 10px 0 20px;
      }

      h3 span {
        background:#fff;
        padding:0 10px;
      }

      /* Change styles for span and cancel button on extra small screens */
      @media screen and (max-width: 300px) {
        span.psw {
          display: block;
          float: none;
        }
        .cancelbtn {
          width: 100%;
        }
      }

    </style>
  </head>
  <body>
      <div class="imgcontainer">
        <img src="/pics/payjunction-ecommerce.png" alt="Logo" class="logo" style="width:230.7px; height: 155.3px;">
        <button id="elgoog" class="btn btn-info" onclick="callGoogleSignIn()">Sign In with Google</button>
        <button id="elgoog" class="btn btn-info" onclick="callGoogleSignUp()">Sign Up with Google</button>

      </div>

      

        </div>
          </form>


        </body>
        </html>

      <!-- End your project here-->

      <!-- SCRIPTS -->
      <!-- JQuery -->
      <script type="text/javascript" src="js/jquery-3.4.1.min.js"></script>
      <!-- Bootstrap tooltips -->
      <script type="text/javascript" src="js/popper.min.js"></script>
      <!-- Bootstrap core JavaScript -->
      <script type="text/javascript" src="js/bootstrap.min.js"></script>
      <!-- MDB core JavaScript -->
      <script type="text/javascript" src="js/mdb.min.js"></script>
      <script src="https://www.gstatic.com/firebasejs/7.2.3/firebase-app.js"></script>
      <script src="https://www.gstatic.com/firebasejs/7.2.3/firebase-auth.js"></script>
      <script src="https://www.gstatic.com/firebasejs/7.2.3/firebase-firestore.js"></script>

      <script>
      var config = {
        apiKey: "AIzaSyCri31YveE6WMCjfA9UMJH7-NdVU1ZJbu8",
        authDomain: "payjunction-4be6a.firebaseapp.com",
        databaseURL: "https://payjunction-4be6a.firebaseio.com",
        projectId: "payjunction-4be6a",
        storageBucket: "payjunction-4be6a.appspot.com",
        messagingSenderId: "199914665361",
        appId: "1:199914665361:web:1879621121a23682711630",
        measurementId: "G-L3XRQM049H"
      };
      firebase.initializeApp(config);
    </script>
  </body>

  </html>

  <!-- after successful login, should take you straight to home.html -->
  <script>
  function callGoogleSignIn(){
    var provider = new firebase.auth.GoogleAuthProvider();
    provider.setCustomParameters({
      prompt: 'select_account'
    });
    provider.addScope('profile');
    provider.addScope('email');
    firebase.auth().signInWithPopup(provider).then(function(result) {
      // This gives you a Google Access Token. You can use it to access the Google API.
      var token = result.credential.accessToken;
      // The signed-in user info.
      var user = result.user;
      console.log(token)
      console.log(user)
      // ...
    }).catch(function(error) {
      // Handle Errors here.
      var errorCode = error.code;
      var errorMessage = error.message;
      // The email of the user's account used.
      var email = error.email;
      // The firebase.auth.AuthCredential type that was used.
      var credential = error.credential;
      // ...
    });
  firebase.auth().onAuthStateChanged(user => {
  if(user) {
    window.location = 'home'; //After successful login, user will be redirected to home.html
  }
});

    }

</script>

<!-- sign in with google, but takes you to the addinfo page after -->
<script>
  function callGoogleSignUp(){
    var provider = new firebase.auth.GoogleAuthProvider();
    provider.setCustomParameters({
      prompt: 'select_account'
    });
    provider.addScope('profile');
    provider.addScope('email');
    firebase.auth().signInWithPopup(provider).then(function(result) {
      // This gives you a Google Access Token. You can use it to access the Google API.
      var token = result.credential.accessToken;
      // The signed-in user info.
      var user = result.user;
      console.log(token)
      console.log(user)
      // ...
    }).catch(function(error) {
      // Handle Errors here.
      var errorCode = error.code;
      var errorMessage = error.message;
      // The email of the user's account used.
      var email = error.email;
      // The firebase.auth.AuthCredential type that was used.
      var credential = error.credential;
      // ...
    });
  firebase.auth().onAuthStateChanged(user => {
  if(user) {
    window.location = 'addinfo'; //After successful signup, user will be redirected to addinfo.html
  }
});

    }

</script>
